import{r,j as e,B as i,T as t,P as d,D as l,d as n}from"./index-Dl1EMY4V.js";const c="http://localhost:3001/api",E=()=>{const[h,m]=r.useState([]),[x,u]=r.useState([]),[j,b]=r.useState([]),[p,v]=r.useState(!0),a=typeof window<"u"&&window.localStorage&&localStorage.getItem("admin")==="true";if(r.useEffect(()=>{a&&Promise.all([fetch(`${c}/cafes`).then(s=>s.json()),fetch(`${c}/cafeSubmissions`).then(s=>s.json()),fetch(`${c}/tastings/public`).then(s=>s.json())]).then(([s,o,D])=>{m(s.data||[]),u(o.data||[]),b(D.data||[]),v(!1)})},[a]),!a)return e.jsx(i,{textAlign:"center",mt:4,children:e.jsx(t,{variant:"h6",color:"error",children:"Access denied. Admins only."})});if(p)return e.jsx(i,{textAlign:"center",mt:4,children:e.jsx(t,{variant:"h6",children:"Loading Approval data..."})});const g=s=>{},f=s=>{},C=s=>{},A=s=>{},S=s=>{},y=s=>{};return e.jsxs(i,{maxWidth:"md",mx:"auto",mt:4,children:[e.jsx(t,{variant:"h4",gutterBottom:!0,children:"Admin Dashboard"}),e.jsxs(d,{elevation:2,sx:{p:3,mb:4},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,children:"Edit Cafes"}),e.jsx(l,{sx:{mb:2}}),h.map(s=>{var o;return e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(t,{variant:"subtitle1",fontWeight:"bold",children:s.name}),e.jsx(t,{variant:"body2",children:s.address}),e.jsx(t,{variant:"body2",children:s.description}),e.jsx(t,{variant:"body2",children:(o=s.features)==null?void 0:o.join(", ")}),e.jsxs(i,{mt:1,children:[e.jsx(n,{variant:"outlined",size:"small",sx:{mr:1},onClick:()=>g(s._id),children:"Edit"}),e.jsx(n,{variant:"outlined",color:"error",size:"small",onClick:()=>f(s._id),children:"Delete"})]})]},s._id)})]}),e.jsxs(d,{elevation:2,sx:{p:3,mb:4},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,children:"Approve/Edit Cafe Submissions"}),e.jsx(l,{sx:{mb:2}}),x.map(s=>e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(t,{variant:"subtitle1",fontWeight:"bold",children:s.name}),e.jsxs(i,{mt:1,children:[e.jsx(n,{variant:"contained",color:"success",size:"small",sx:{mr:1},onClick:()=>C(s._id),children:"Approve"}),e.jsx(n,{variant:"outlined",size:"small",sx:{mr:1},onClick:()=>A(s._id),children:"Edit"}),e.jsx(n,{variant:"outlined",color:"error",size:"small",onClick:()=>S(s._id),children:"Delete"})]})]},s._id))]}),e.jsxs(d,{elevation:2,sx:{p:3},children:[e.jsx(t,{variant:"h5",gutterBottom:!0,children:"Delete Tasting Notes"}),e.jsx(l,{sx:{mb:2}}),j.map(s=>e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(t,{variant:"subtitle1",fontWeight:"bold",children:s.cafeName}),e.jsx(t,{variant:"body2",children:s.note}),e.jsx(i,{mt:1,children:e.jsx(n,{variant:"outlined",color:"error",size:"small",onClick:()=>y(s._id),children:"Delete"})})]},s._id))]})]})};export{E as default};
