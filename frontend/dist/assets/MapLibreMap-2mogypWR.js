import{j as i}from"./react-BtMNIPra.js";import{M as j,n as h,P as A}from"./vendor-CyRx9_Ke.js";import{b as M}from"./maplibre-Dtgyks6D.js";import{B as k,f as u}from"./mui-7-yASJkv.js";const w="https://api.maptiler.com/maps/0198dc89-072a-795c-919e-84fefe62bc97/style.json?key=a82bxq3OIw2AzmMU9SKn",S="https://api.maptiler.com/maps/0198e5d4-8cc5-75f0-9e4c-2866e2424173/style.json?key=a82bxq3OIw2AzmMU9SKn";function T({cafesToShow:b,showUserPin:g,userLocation:r,theme:s,themeMode:n,selectedCafe:o,setSelectedCafe:l,getCustomIcon:d}){var e,c,p;return i.jsxs(j,{mapLib:M,initialViewState:{longitude:18.0686,latitude:59.3293,zoom:12},style:{width:"100vw",height:"100vh"},mapStyle:n==="dark"?S:w,children:[b.map(a=>{var m,x,y;const t=(y=(x=(m=a.locations)==null?void 0:m[0])==null?void 0:x.coordinates)==null?void 0:y.coordinates;return Array.isArray(t)&&t.length===2&&t.every(Number.isFinite)?i.jsx(h,{longitude:t[0],latitude:t[1],onClick:()=>l(a),sx:{boxShadow:3},children:d(a.category,s,n)},a._id):null}),g&&r&&Number.isFinite(r.lng)&&Number.isFinite(r.lat)&&i.jsx(h,{longitude:r.lng,latitude:r.lat,children:d("geotag",s,n)}),o&&Array.isArray((p=(c=(e=o.locations)==null?void 0:e[0])==null?void 0:c.coordinates)==null?void 0:p.coordinates)&&i.jsx(A,{longitude:o.locations[0].coordinates.coordinates[0],latitude:o.locations[0].coordinates.coordinates[1],onClose:()=>l(null),closeOnClick:!1,children:i.jsxs(k,{children:[i.jsx(u,{variant:"h6",fontWeight:"bold",children:o.name}),i.jsx(u,{variant:"body2",color:"text.secondary",children:o.locations[0].address})]})})]})}export{T as default};
