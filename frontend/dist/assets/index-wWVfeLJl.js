const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-CyRx9_Ke.js","assets/react-BtMNIPra.js","assets/maplibre-Dtgyks6D.js","assets/maplibre-B4QYLKPJ.css","assets/MapPage-BNSmboEm.js","assets/mui-7-yASJkv.js","assets/zustand-CO9MOgCD.js","assets/TastingsPage-Dsi7vH-R.js","assets/TastingForm-Cps7IQVZ.js","assets/CafePage-SQ-kAB_E.js","assets/UserPage-BEYsIRgL.js","assets/AdminPage-D5CdGbXC.js"])))=>i.map(i=>d[i]);
import{g as B,j as e,r as d,F as Ie,h as ve,L as O,u as Ce,i as Te,B as Pe,k as ze,l as W,m as Le}from"./react-BtMNIPra.js";import{c as Ae}from"./zustand-CO9MOgCD.js";import{c as _e,T as Ee,C as ce,L as C,a as T,b as P,d as z,M as Me,e as te,B as I,I as S,f as G,g as Q,h as se,i as De,A as Oe,s as K,j as de,D as Be,u as ge,k as he,l as Re,m as Fe,n as We,S as Ue,o as He,p as Ne,q as $e,r as X,t as ae,v as me,R as ue,w as Qe,x as xe,y as fe,z as pe,E as je,F as be,G as ye,H as Se,J as we,K as Ge,N as ne,O as qe}from"./mui-7-yASJkv.js";import{m as R}from"./vendor-CyRx9_Ke.js";import"./maplibre-Dtgyks6D.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();const Ve="https://sthlmcoffeeclub.onrender.com/api",L=async(t,s={})=>{const i=localStorage.getItem("userToken"),a={headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},...s};try{const n=await fetch(`${Ve}${t}`,a),o=await n.json();if(!n.ok)throw new Error(o.error||"API request failed");return o}catch(n){throw console.error("API Error:",n),n}},bt={getAll:()=>L("/cafes"),getById:t=>L(`/cafes/${t}`)},oe={getPublic:()=>L("/tastings/public"),getUserTastings:()=>L("/tastings"),create:t=>L("/tastings",{method:"POST",body:JSON.stringify(t)}),search:t=>L(`/tastings/public/search?query=${encodeURIComponent(t)}`)},re={login:t=>L("/auth/login",{method:"POST",body:JSON.stringify(t)}),register:t=>L("/auth/register",{method:"POST",body:JSON.stringify(t)})},b=Ae(t=>({themeMode:localStorage.getItem("themeMode")||"light",setThemeMode:s=>{localStorage.setItem("themeMode",s),t({themeMode:s})},cafes:[],setCafes:s=>t({cafes:s}),searchQuery:"",setSearchQuery:s=>t({searchQuery:s}),searchResults:[],setSearchResults:s=>t({searchResults:s}),tastings:[],setTastings:s=>t({tastings:s}),loading:!1,setLoading:s=>t({loading:s}),editingTasting:null,setEditingTasting:s=>t({editingTasting:s}),deletingTasting:null,setDeletingTasting:s=>t({deletingTasting:s}),fetchTastings:async s=>{t({loading:!0});try{let i=[];s?i=(await oe.getUserTastings()).data||[]:i=(await oe.getPublic()).data||[],t({tastings:i})}catch{t({tastings:[]})}t({loading:!1})},options:{},setOptions:s=>t({options:s}),user:null,setUser:s=>t({user:s}),isLoggedIn:!!localStorage.getItem("userToken"),setIsLoggedIn:s=>t({isLoggedIn:s}),userSubmissions:[],setUserSubmissions:s=>t({userSubmissions:s}),fetchError:"",setFetchError:s=>t({fetchError:s}),currentPage:1,setCurrentPage:s=>t({currentPage:s}),tastingsPerPage:10,setTastingsPerPage:s=>t({tastingsPerPage:s})})),Je=({children:t})=>{const s=b(a=>a.themeMode),i=B.useMemo(()=>{const a={colors:{primary:"#2570bbff",secondary:"#184777ff",accent:"#fde113ff",accentStrong:"#c59f00",light:"#f0f4ffff",navbarBackground:"#184777ff",versoText:"#0a1f33",error:"#ef6461",success:"#7eb77fff"},colorsDarkmode:{primary:"#1c4e7d",secondary:"#0a1f33",accent:"#fde112ff",accentStrong:"#ffdf00",navbarBackground:"#0a1f33",light:"#f0f4ffff",background:"#184777ff",versoText:"#0a1f33",error:"#ef6461",success:"#222422"},fonts:{main:"Verdana, Arial, sans-serif",heading:"Stockholm Type, sans-serif",size:{md:"1.5rem",lg:"2rem",xl:"2.5rem"}},shadow:"0 2px 8px rgba(0,0,0,0.08)"},n=s==="dark",o=n?a.colorsDarkmode:a.colors,m=n?o.accent:o.accentStrong,g=o.background||(n?a.colorsDarkmode.background:a.colors.light),y=n?a.colorsDarkmode.navbarBackground:a.colors.navbarBackground;return _e({palette:{mode:s,common:{black:"#000000",white:"#ffffff"},primary:{main:o.primary},secondary:{main:o.secondary,contrastText:"#ffffff"},light:{main:o.light},accent:{main:o.accent},accentStrong:{main:o.accentStrong},success:{main:o.success,contrastText:"#0a1f33"},error:{main:o.error,contrastText:"#ffffff"},warning:{main:o.warning||"#f59e0b",contrastText:"#0a1f33"},info:{main:"#0288d1",contrastText:"#ffffff"},background:{default:g,paper:y},text:{primary:o.versoText,secondary:m,disabled:s==="dark"?"rgba(235,242,250,0.5)":"rgba(10,31,51,0.5)"},divider:s==="dark"?"rgba(235,242,250,0.06)":"rgba(10,31,51,0.08)",action:{hover:s==="dark"?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.04)",selected:s==="dark"?"rgba(255,255,255,0.16)":"rgba(0,0,0,0.08)",disabled:s==="dark"?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.26)",focus:s==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.12)",active:s==="dark"?"rgba(255,255,255,0.54)":"rgba(0,0,0,0.54)"},tonalOffset:{light:.2,main:0,dark:.15}},typography:{fontFamily:a.fonts.main,fontSize:16,h1:{fontFamily:a.fonts.heading,fontWeight:800,fontSize:a.fonts.size.xl,lineHeight:1.2,letterSpacing:"-0.5px"},h2:{fontFamily:a.fonts.heading,fontWeight:700,fontSize:a.fonts.size.lg,lineHeight:1.25},h3:{fontFamily:a.fonts.heading,fontWeight:700,fontSize:a.fonts.size.md,lineHeight:1.3},h4:{fontWeight:700,fontSize:"1.25rem",lineHeight:1.3},h5:{fontWeight:600,fontSize:"1.125rem",lineHeight:1.35},h6:{fontWeight:600,fontSize:"1rem",lineHeight:1.4},subtitle1:{fontWeight:600,letterSpacing:"0.2px"},subtitle2:{fontWeight:600,letterSpacing:"0.2px"},body1:{fontSize:"1rem",lineHeight:1.6},body2:{fontSize:"0.9rem",lineHeight:1.55},button:{textTransform:"none",fontWeight:600,letterSpacing:"0.2px"},overline:{fontWeight:700,letterSpacing:"1px",textTransform:"uppercase"}},icons:{fontSize:20},shape:{borderRadius:5},shadows:[a.shadow,...Array(24).fill(a.shadow)],spacing:8,breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},zIndex:{appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},transitions:{duration:{shortest:150,shorter:200,standard:300,complex:375},easing:{easeInOut:"cubic-bezier(0.4,0,0.2,1)"}},mixins:{toolbar:{minHeight:56}},components:{MuiCssBaseline:{styleOverrides:r=>{var l,u;return{body:{backgroundColor:r.palette.background.default,color:r.palette.text.primary,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},a:{color:((l=r.palette.accentStrong)==null?void 0:l.main)||r.palette.accent.main,textDecorationColor:((u=r.palette.accentStrong)==null?void 0:u.main)||r.palette.accent.main}}}},MuiButton:{styleOverrides:{root:{borderRadius:20}}}},direction:"ltr"})},[s]);return e.jsxs(Ee,{theme:i,children:[e.jsx(ce,{}),t]})},q=({label:t,options:s,value:i,onChange:a,iconComponent:n})=>{const[o,m]=B.useState(null),g=!!o,y=Array.isArray(s)?s:[];return e.jsxs(e.Fragment,{children:[e.jsx(C,{disablePadding:!0,sx:{display:"block",py:0},children:e.jsxs(T,{onClick:r=>m(r.currentTarget),sx:{width:"100%",justifyContent:"flex-start",minHeight:48},children:[e.jsx(P,{children:n}),e.jsx(z,{primary:t})]})}),e.jsxs(Me,{anchorEl:o,open:g,onClose:()=>m(null),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[e.jsx(te,{selected:i==="",onClick:()=>{a(""),m(null)},children:"All"},"all"),y.map(r=>e.jsx(te,{selected:i===r,onClick:()=>{a(r),m(null)},children:r.charAt(0).toUpperCase()+r.slice(1)},r))]})]})},Xe=({onClose:t,setCurrentUser:s,setIsLoggedIn:i})=>{const[a,n]=d.useState(""),[o,m]=d.useState(""),[g,y]=d.useState(!1),[r,l]=d.useState(!1),[u,p]=d.useState(""),w=b(c=>c.fetchError),h=b(c=>c.setFetchError),A=b(c=>c.loading),v=b(c=>c.setLoading),j=async c=>{var U,_;c.preventDefault(),v(!0);try{const k=u.trim(),H=o.trim();let x;if(g?x=await re.register({username:k,email:a.trim(),password:H}):x=await re.login({username:k,email:k,password:H}),x.token||x.accessToken){const E=x.token||x.accessToken;localStorage.setItem("userToken",E),localStorage.setItem("userId",x.user.id),localStorage.setItem("username",((U=x.user)==null?void 0:U.username)||k);let M="user";try{const{jwtDecode:D}=await R(async()=>{const{jwtDecode:F}=await import("./vendor-CyRx9_Ke.js").then(J=>J.o);return{jwtDecode:F}},__vite__mapDeps([0,1,2,3]));M=D(E).role||"user"}catch{M="user"}localStorage.setItem("userRole",M),localStorage.setItem("admin",M==="admin"?"true":"false"),i(!0),s({username:((_=x.user)==null?void 0:_.username)||k}),h(""),t()}else h(x.error||x.message||(g?"Signup failed. Try again.":"Invalid credentials"))}catch(k){console.error("Auth error:",k),h(g?"Signup failed. Try again.":"Invalid credentials")}finally{v(!1)}};return e.jsxs(I,{sx:{position:"fixed",width:{xs:"90vw",sm:400},top:0,left:0,zIndex:1300,borderRadius:2,boxShadow:3,padding:2,bgcolor:c=>c.palette.background.paper},children:[e.jsx(S,{"aria-label":"Close login form",onClick:t,sx:{float:"right",fontSize:"1.5rem",bgcolor:"transparent"},children:"×"}),e.jsx(G,{variant:"h2",sx:{mb:2},children:g?"Sign Up":"Login"}),e.jsxs("form",{onSubmit:j,children:[g&&e.jsx(Q,{label:"Email",name:"email",value:a,onChange:c=>n(c.target.value),required:!0,type:"email",fullWidth:!0,margin:"normal",autoComplete:"email"}),e.jsx(Q,{label:g?"Username":"Username or Email",name:"identifier",value:u,onChange:c=>p(c.target.value),required:!0,type:"text",fullWidth:!0,margin:"normal",autoComplete:"username"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Q,{label:"Password",name:"password",value:o,onChange:c=>m(c.target.value),required:!0,type:r?"text":"password",fullWidth:!0,margin:"normal",autoComplete:"current-password"}),e.jsx(S,{"aria-label":"Toggle password visibility",onClick:()=>l(c=>!c),sx:{position:"absolute",right:8,top:32},size:"small",children:r?e.jsx(Ie,{}):e.jsx(ve,{})})]}),e.jsxs(se,{type:"submit",disabled:A,sx:{mt:2,mb:1,minHeight:36,display:"flex",alignItems:"center",justifyContent:"center",padding:2,boxShadow:2},children:[A?e.jsx(De,{size:20,sx:{color:c=>c.palette.secondary.main}}):null,!A&&(g?"Sign Up":"Login")]})]}),w&&e.jsx(Oe,{severity:"error",sx:{mt:2},children:w}),e.jsxs(G,{align:"center",sx:{mt:2},children:[g?"Already have an account?":"Don't have an account?"," ",e.jsx(se,{"aria-label":"Toggle between login and signup",type:"button",onClick:()=>y(!g),variant:"text",sx:{padding:3},children:g?"Login":"Sign Up"})]})]})},Ke="/assets/scc_logo_mono-OPLEBABi.svg",V=320,ie=t=>({width:V,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),overflowX:"hidden"}),le=t=>({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${t.spacing(7)} + 1px)`,[t.breakpoints.up("sm")]:{width:`calc(${t.spacing(8)} + 1px)`}}),Ye=K("div")(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar,color:t.palette.text.primary})),Ze=K(de,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:s})=>({zIndex:t.zIndex.drawer+1,background:t.palette.background.default,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...s&&{marginLeft:V,width:`calc(100% - ${V}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),et=K(Be,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:s})=>({width:V,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...s&&{...ie(t),"& .MuiDrawer-paper":ie(t)},...!s&&{...le(t),"& .MuiDrawer-paper":le(t)}})),tt=({searchResults:t=[],setSearchResults:s=()=>{},showLogin:i=!1,setShowLogin:a=()=>{},isLoggedIn:n=!1,setIsLoggedIn:o=()=>{},setCurrentUser:m=()=>{},showAddCafe:g=!1,setShowAddCafe:y=()=>{},onFilteredCafes:r=()=>{}})=>{const l=ge(),[u,p]=d.useState(!1),w=b(f=>f.themeMode),h=b(f=>f.setThemeMode),A=b(f=>f.setSearchResults),v=w==="dark",j=l.palette.light.main,c=()=>{h(v?"light":"dark")},U=b?b(f=>f.cafes):[],_=t.length>0?t:U,k=Array.from(new Set(_.map(f=>f.category).filter(Boolean))),H=Array.from(new Set(_.map(f=>{var N,$;return($=(N=f.locations)==null?void 0:N[0])==null?void 0:$.neighborhood}).filter(Boolean)));let x=!1;typeof window<"u"&&window.localStorage&&(x=localStorage.getItem("admin")==="true");const[E,M]=d.useState(""),[D,Y]=d.useState(""),F=_.filter(f=>{var Z,ee;const N=E===""||f.category===E,$=D===""||((ee=(Z=f.locations)==null?void 0:Z[0])==null?void 0:ee.neighborhood)===D;return N&&$});d.useEffect(()=>{r(F),A(F)},[F,r,A]);const J=()=>{p(!0)},ke=()=>{p(!1)};return e.jsxs(I,{sx:{display:{xs:"none",sm:"flex"}},children:[e.jsx(ce,{}),e.jsx(Ze,{position:"fixed",open:u,color:"transparent",children:e.jsxs(he,{elevation:3,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:l.palette.background.paper,borderBottom:v?`1px solid ${l.palette.divider}`:`1px solid ${l.palette.divider}`,color:l.palette.light.main},children:[e.jsxs(I,{sx:{display:"flex",alignItems:"center",justifyContent:"start",flexDirection:"row",flexGrow:1},children:[e.jsx(S,{"aria-label":"open drawer",onClick:J,edge:"start",sx:{marginRight:5,...u&&{display:"none"}},children:e.jsx(Re,{sx:{color:l.palette.accent.main}})}),e.jsxs(I,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(O,{label:"map",to:"/",aligncontent:"center",children:e.jsx("img",{src:Ke,alt:"SCC Logo",style:{height:25,marginRight:12}})}),e.jsx(G,{variant:"h2",noWrap:!0,component:"div",fontWeight:700,sx:{color:v?l.palette.accent.main:l.palette.light.main,flexGrow:1},"aria-hidden":"true",children:"Stockholms Coffee Club"})]})]}),e.jsxs(I,{sx:{display:"flex",alignItems:"center",float:"right"},children:[e.jsx(S,{sx:{ml:2},children:v?e.jsx(Fe,{sx:{color:j}}):e.jsx(We,{sx:{color:j}})}),e.jsx(Ue,{checked:v,onChange:c,inputProps:{"aria-label":"toggle dark mode"}}),n&&e.jsx(S,{component:O,to:"/user",sx:{ml:2},"aria-label":"User Page",children:e.jsx(He,{sx:{filter:"drop-shadow(1px 2px 4px rgba(0, 0, 0, 0.5))",fill:l.palette.accent.main}})})]})]})}),e.jsxs(et,{variant:"permanent",open:u,children:[e.jsx(Ye,{children:e.jsx(S,{onClick:ke,children:l.direction==="rtl"?e.jsx(Ne,{sx:{color:l.palette.accent.main}}):e.jsx($e,{sx:{color:l.palette.accent.main}})})}),e.jsx(X,{}),e.jsxs(ae,{children:[e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{component:O,to:"/",children:[e.jsx(P,{children:e.jsx(me,{sx:{color:j}})}),e.jsx(z,{primary:"Map"})]})}),e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{component:O,to:"/tastings",children:[e.jsx(P,{children:e.jsx(ue,{sx:{color:j}})}),e.jsx(z,{primary:"Tastings"})]})}),n&&e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{onClick:()=>y(!0),children:[e.jsx(P,{children:e.jsx(Qe,{sx:{color:j}})}),e.jsx(z,{primary:"Add Cafe"})]})}),n&&x&&e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{component:O,to:"/admin",children:[e.jsx(P,{children:e.jsx(xe,{sx:{color:j}})}),e.jsx(z,{primary:"Admin"})]})}),n&&!x&&e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{component:O,to:"/user",children:[e.jsx(P,{children:e.jsx(fe,{sx:{color:j}})}),e.jsx(z,{primary:"Userpage"})]})})]}),e.jsx(X,{}),e.jsxs(ae,{children:[!n&&e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{onClick:()=>a(!0),children:[e.jsx(P,{children:e.jsx(pe,{sx:{color:j}})}),e.jsx(z,{primary:"Login"})]})}),n&&e.jsx(C,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(T,{onClick:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("username"),localStorage.removeItem("admin"),o(!1),a(!1)},children:[e.jsx(P,{children:e.jsx(je,{sx:{color:j}})}),e.jsx(z,{primary:"Logout"})]})})]}),e.jsx(be,{open:i,onClose:()=>a(!1),maxWidth:"xs",fullWidth:!0,children:e.jsx(ye,{sx:{p:0},children:e.jsx(Xe,{onClose:()=>a(!1),setCurrentUser:m,setIsLoggedIn:o})})}),e.jsx(X,{}),e.jsx(q,{label:"Filter by Cafe Type",options:k,value:E,onChange:M,iconComponent:e.jsx(Se,{sx:{color:j}})}),e.jsx(q,{label:"Filter by neighborhood",options:H,value:D,onChange:Y,iconComponent:e.jsx(we,{sx:{color:j}})})]})]})},st={"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},at="#222",nt=(t,s)=>{var i,a;return e.jsxs(I,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",children:[e.jsxs(I,{sx:{position:"relative",width:300,height:300,display:"flex",alignItems:"center",justifyContent:"center",...st},children:[e.jsx(I,{component:"img",src:"/src/assets/scc_logo_text.svg",alt:"Logo Text",sx:{position:"absolute",top:-10,left:0,width:300,height:300,animation:"spin 4.5s linear infinite",filter:s==="dark"?"brightness(0.8)":void 0,color:s==="dark"?(a=(i=t==null?void 0:t.palette)==null?void 0:i.common)==null?void 0:a.light:at,"&:hover":{animationPlayState:"paused"}}}),e.jsx(I,{component:"img",src:"/src/assets/scc_shield.svg",alt:"Logo Shield",sx:{position:"absolute",width:150,height:150}})]}),e.jsx(G,{color:"text.primary",variant:"h2",mt:2,children:"Currently Brewing..."})]})},ot=()=>{const t=ge(),s=Ce(),i=Te(),a=b(h=>h.isLoggedIn),n=b(h=>h.setIsLoggedIn),o=b(h=>h.cafes),m=Array.from(new Set(o.map(h=>h.category).filter(Boolean)));let g=!1;const[y,r]=B.useState(!1),[l,u]=B.useState("");typeof window<"u"&&window.localStorage&&(g=localStorage.getItem("admin")==="true");const p=h=>{s(h)},w=()=>{window.dispatchEvent(new Event("triggerGeotag"))};return e.jsxs(B.Fragment,{children:[e.jsx(de,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0,width:"100vw",height:56,display:{xs:"flex",sm:"none"},zIndex:1200,borderRadius:0},children:e.jsxs(he,{sx:{minHeight:56,px:1,justifyContent:"center",overflowX:"auto",gap:.5},children:[e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>p("/tastings"),children:e.jsx(ue,{fontSize:"medium",sx:{color:t.palette.light.main}})}),e.jsx(q,{"aria-label":"Filter by Cafe Type",options:m,value:l,onChange:u,iconComponent:e.jsx(Se,{fontSize:"medium",sx:{color:t.palette.light.main}}),sx:{minWidth:40}}),e.jsx(q,{"aria-label":"Filter by neighborhood",options:Array.from(new Set(o.map(h=>h.neighborhood).filter(Boolean))),value:l,onChange:u,iconComponent:e.jsx(we,{fontSize:"medium",sx:{color:t.palette.light.main}}),sx:{minWidth:40}}),e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>r(!0),children:e.jsx(Ge,{fontSize:"medium",sx:{color:t.palette.light.main}})}),a&&g&&e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>p("/admin"),children:e.jsx(xe,{fontSize:"medium",sx:{color:t.palette.light.main}})}),a&&!g&&e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>p("/user"),children:e.jsx(fe,{fontSize:"medium",sx:{color:t.palette.light.main}})}),a?e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("username"),localStorage.removeItem("admin"),n(!1),p("/")},children:e.jsx(je,{fontSize:"medium",sx:{color:t.palette.light.main}})}):e.jsx(S,{color:"inherit",size:"large",sx:{p:1},onClick:()=>p("/login"),children:e.jsx(pe,{fontSize:"medium",sx:{color:t.palette.light.main}})}),e.jsx(be,{open:y,onClose:()=>r(!1),maxWidth:"xs",fullWidth:!0,children:e.jsx(ye,{children:e.jsx(Q,{autoFocus:!0,margin:"dense",label:"Search Cafes",type:"text",fullWidth:!0,variant:"outlined",value:l,onChange:h=>u(h.target.value)})})})]})}),a&&(i.pathname==="/"?e.jsx(ne,{color:"primary","aria-label":"geotag",onClick:w,sx:{position:"fixed",zIndex:1301,bottom:80,left:"50%",transform:"translateX(-50%)",width:56,height:56,boxShadow:3,display:{xs:"flex",sm:"none"}},children:e.jsx(qe,{fontSize:"large",sx:{color:t.palette.light.main}})}):e.jsx(ne,{color:"primary","aria-label":"back to map",onClick:()=>p("/"),sx:{position:"fixed",zIndex:1301,bottom:80,left:"50%",transform:"translateX(-50%)",width:56,height:56,boxShadow:3,display:{xs:"flex",sm:"none"}},children:e.jsx(me,{fontSize:"large",sx:{color:t.palette.light.main}})}))]})},rt=d.lazy(()=>R(()=>import("./MapPage-BNSmboEm.js"),__vite__mapDeps([4,0,1,2,3,5,6]))),it=d.lazy(()=>R(()=>import("./TastingsPage-Dsi7vH-R.js"),__vite__mapDeps([7,1,0,2,3,8,5,6]))),lt=d.lazy(()=>R(()=>import("./CafePage-SQ-kAB_E.js"),__vite__mapDeps([9,1,0,2,3,5,6]))),ct=d.lazy(()=>R(()=>import("./UserPage-BEYsIRgL.js"),__vite__mapDeps([10,1,0,2,3,8,5,6]))),dt=d.lazy(()=>R(()=>import("./AdminPage-D5CdGbXC.js"),__vite__mapDeps([11,1,0,2,3,5]))),gt=()=>{const[t,s]=d.useState(!1),[i,a]=d.useState(null),[n,o]=d.useState(!1),[m,g]=d.useState(!1),[y,r]=d.useState([]),[l,u]=d.useState("");return d.useEffect(()=>{const p=localStorage.getItem("userToken"),w=localStorage.getItem("username");p&&w&&(s(!0),a({username:w}))},[]),e.jsxs(Pe,{children:[e.jsx("header",{children:e.jsx(tt,{searchResults:y,setSearchResults:r,searchQuery:l,setSearchQuery:u,showLogin:n,setShowLogin:o,isLoggedIn:t,setIsLoggedIn:s,setCurrentUser:a,showAddCafe:m,setShowAddCafe:g,style:{flex:1}})}),e.jsx("main",{style:{flex:1},children:e.jsx(d.Suspense,{fallback:e.jsx(nt,{}),children:e.jsxs(ze,{children:[e.jsx(W,{path:"/",element:e.jsx(rt,{})}),e.jsx(W,{path:"/tastings",element:e.jsx(it,{searchResults:y,setSearchResults:r,searchQuery:l,setSearchQuery:u})}),e.jsx(W,{path:"/cafes/:cafeId",element:e.jsx(lt,{})}),e.jsx(W,{path:"/user",element:e.jsx(ct,{isLoggedIn:t})}),e.jsx(W,{path:"/admin",element:e.jsx(dt,{isLoggedIn:t,currentUser:i})})]})})}),e.jsx(ot,{}),e.jsxs("footer",{hidden:!0,children:[e.jsx("p",{children:"© 2025 Stockholm Coffee Club by Jonny Hicks"}),e.jsx("div",{children:e.jsxs("ul",{className:"footer-right",children:[e.jsx("li",{children:e.jsx("a",{href:"https://github.com/KidFromCalifornia",target:"_blank",rel:"noopener noreferrer",className:"Github","aria-label":"Link to Github",children:"Github"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.linkedin.com/in/jonathanwhicks/",target:"_blank",rel:"noopener noreferrer",className:"linkedin","aria-label":"Link to LinkedIn",children:"LinkedIn"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.instagram.com/thekidfromcalifornia",target:"_blank",rel:"noopener noreferrer",className:"instagram","aria-label":"Link to Instagram",children:"Instagram"})})]})})]})]})},ht=document.getElementById("root"),mt=Le.createRoot(ht);mt.render(e.jsx(B.StrictMode,{children:e.jsx(Je,{children:e.jsx(gt,{})})}));export{L as a,bt as c,oe as t,b as u};
