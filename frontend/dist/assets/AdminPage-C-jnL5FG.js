import{a as n,j as s}from"./index-COtBVs9l.js";const d="http://localhost:3001/api",v=()=>{const[o,c]=n.useState([]),[l,a]=n.useState([]),[r,h]=n.useState([]),[j,x]=n.useState(!0),t=typeof window<"u"&&window.localStorage&&localStorage.getItem("admin")==="true";if(n.useEffect(()=>{t&&Promise.all([fetch(`${d}/cafes`).then(e=>e.json()),fetch(`${d}/cafeSubmissions`).then(e=>e.json()),fetch(`${d}/tastings/public`).then(e=>e.json())]).then(([e,i,S])=>{c(e.data||[]),a(i.data||[]),h(S.data||[]),x(!1)})},[t]),!t)return s.jsx("div",{children:"Access denied. Admins only."});if(j)return s.jsx("div",{children:"Loading Approval data..."});const u=e=>{},m=e=>{},p=e=>{},f=e=>{},b=e=>{},g=e=>{};return s.jsxs("div",{children:[s.jsx("h2",{children:"Admin Dashboard"}),s.jsxs("section",{children:[s.jsx("h3",{children:"Edit Cafes"}),o.map(e=>{var i;return s.jsxs("div",{children:[s.jsx("strong",{children:e.name}),s.jsx("p",{children:e.address}),s.jsx("p",{children:e.description}),s.jsx("p",{children:(i=e.features)==null?void 0:i.join(", ")}),s.jsx("button",{onClick:()=>u(e._id),children:"Edit"}),s.jsx("button",{onClick:()=>m(e._id),children:"Delete"})]},e._id)})]}),s.jsxs("section",{children:[s.jsx("h3",{children:"Approve/Edit Cafe Submissions"}),l.map(e=>s.jsxs("div",{children:[s.jsx("strong",{children:e.name}),s.jsx("button",{onClick:()=>p(e._id),children:"Approve"}),s.jsx("button",{onClick:()=>f(e._id),children:"Edit"}),s.jsx("button",{onClick:()=>b(e._id),children:"Delete"})]},e._id))]}),s.jsxs("section",{children:[s.jsx("h3",{children:"Delete Tasting Notes"}),r.map(e=>s.jsxs("div",{children:[s.jsx("strong",{children:e.cafeName})," - ",e.note,s.jsx("button",{onClick:()=>g(e._id),children:"Delete"})]},e._id))]})]})};export{v as default};
