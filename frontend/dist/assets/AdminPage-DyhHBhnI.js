import{r as n,j as e}from"./react-fsc5c2Qp.js";import{B as i,T as s,P as d,D as l,b as r}from"./mui-B26OF-U5.js";import"./vendor-JguMnKVy.js";import"./maplibre-Dtgyks6D.js";const c="http://localhost:3001/api",k=()=>{const[m,h]=n.useState([]),[x,u]=n.useState([]),[j,b]=n.useState([]),[p,v]=n.useState(!0),a=typeof window<"u"&&window.localStorage&&localStorage.getItem("admin")==="true";if(n.useEffect(()=>{a&&Promise.all([fetch(`${c}/cafes`).then(t=>t.json()),fetch(`${c}/cafeSubmissions`).then(t=>t.json()),fetch(`${c}/tastings/public`).then(t=>t.json())]).then(([t,o,D])=>{h(t.data||[]),u(o.data||[]),b(D.data||[]),v(!1)})},[a]),!a)return e.jsx(i,{textAlign:"center",mt:4,children:e.jsx(s,{variant:"h6",color:"error",children:"Access denied. Admins only."})});if(p)return e.jsx(i,{textAlign:"center",mt:4,children:e.jsx(s,{variant:"h6",children:"Loading Approval data..."})});const f=t=>{},g=t=>{},C=t=>{},A=t=>{},S=t=>{},y=t=>{};return e.jsxs(i,{maxWidth:"md",mx:"auto",mt:4,children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"Admin Dashboard"}),e.jsxs(d,{elevation:2,sx:{p:3,mb:4},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Edit Cafes"}),e.jsx(l,{sx:{mb:2}}),m.map(t=>{var o;return e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(s,{variant:"subtitle1",fontWeight:"bold",children:t.name}),e.jsx(s,{variant:"body2",children:t.address}),e.jsx(s,{variant:"body2",children:t.description}),e.jsx(s,{variant:"body2",children:(o=t.features)==null?void 0:o.join(", ")}),e.jsxs(i,{mt:1,children:[e.jsx(r,{variant:"outlined",size:"small",sx:{mr:1},onClick:()=>f(t._id),children:"Edit"}),e.jsx(r,{variant:"outlined",color:"error",size:"small",onClick:()=>g(t._id),children:"Delete"})]})]},t._id)})]}),e.jsxs(d,{elevation:2,sx:{p:3,mb:4},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Approve/Edit Cafe Submissions"}),e.jsx(l,{sx:{mb:2}}),x.map(t=>e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(s,{variant:"subtitle1",fontWeight:"bold",children:t.name}),e.jsxs(i,{mt:1,children:[e.jsx(r,{variant:"contained",color:"success",size:"small",sx:{mr:1},onClick:()=>C(t._id),children:"Approve"}),e.jsx(r,{variant:"outlined",size:"small",sx:{mr:1},onClick:()=>A(t._id),children:"Edit"}),e.jsx(r,{variant:"outlined",color:"error",size:"small",onClick:()=>S(t._id),children:"Delete"})]})]},t._id))]}),e.jsxs(d,{elevation:2,sx:{p:3},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Delete Tasting Notes"}),e.jsx(l,{sx:{mb:2}}),j.map(t=>e.jsxs(i,{mb:2,p:2,border:1,borderColor:"grey.200",borderRadius:2,children:[e.jsx(s,{variant:"subtitle1",fontWeight:"bold",children:t.cafeName}),e.jsx(s,{variant:"body2",children:t.note}),e.jsx(i,{mt:1,children:e.jsx(r,{variant:"outlined",color:"error",size:"small",onClick:()=>y(t._id),children:"Delete"})})]},t._id))]})]})};export{k as default};
