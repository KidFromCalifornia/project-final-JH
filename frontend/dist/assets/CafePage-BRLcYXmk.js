import{m as v,r as l,j as e}from"./react-D2p8keEr.js";import{u,c as y,s as b}from"./index-DdYfysyz.js";import{B as a,F as P,a as r,v as f,P as L}from"./mui-B5tDN1x1.js";import"./vendor-BDYOnP0s.js";import"./maplibre-Dtgyks6D.js";import"./zustand-B8K-H7mD.js";const N=()=>{var d,h,x,m;const{cafeId:i}=v(),[s,g]=l.useState(null),j=u(t=>t.loading),o=u(t=>t.setLoading),[c,p]=l.useState(null);return l.useEffect(()=>{i&&(o(!0),y.getById(i).then(t=>{g(t.data),o(!1)}).catch(t=>{var n;o(!1),t.code==="NETWORK_ERROR"||(n=t.message)!=null&&n.includes("fetch")||!t.response?b({title:"Server Unavailable",text:"We couldn't reach the server. Please try again later.",icon:"error"}):p("We couldn't load this cafe. Please try again.")}))},[i,o]),j?e.jsxs(a,{textAlign:"center",mt:4,children:[e.jsx(P,{}),e.jsx(r,{variant:"h6",mt:2,children:"Loading cafe..."})]}):c?e.jsx(a,{textAlign:"center",mt:4,children:e.jsx(f,{severity:"error",children:c})}):s?e.jsx(a,{maxWidth:"sm",mx:"auto",mt:4,children:e.jsxs(L,{elevation:2,sx:{p:3},children:[e.jsx(r,{variant:"h4",gutterBottom:!0,children:s.name}),s.hasMultipleLocations&&((d=s.locations)==null?void 0:d.length)>1?e.jsxs(a,{sx:{mb:2},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Locations:"}),s.locations.map((t,n)=>e.jsxs(a,{sx:{mb:1,pl:1,borderLeft:"2px solid",borderLeftColor:"primary.main"},children:[t.locationNote&&e.jsx(r,{variant:"subtitle2",color:"primary",fontWeight:"500",children:t.locationNote}),e.jsx(r,{variant:"body1",children:t.address}),t.neighborhood&&e.jsx(r,{variant:"body2",color:"text.secondary",children:t.neighborhood})]},n))]}):e.jsx(r,{variant:"body1",gutterBottom:!0,children:(x=(h=s.locations)==null?void 0:h[0])==null?void 0:x.address}),e.jsx(r,{variant:"body2",sx:{mb:2},children:s.description}),e.jsx(r,{variant:"body2",children:(m=s.features)==null?void 0:m.join(", ")})]})}):e.jsx(a,{textAlign:"center",mt:4,children:e.jsx(f,{severity:"info",children:"No cafe found."})})};export{N as default};
