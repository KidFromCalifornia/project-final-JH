import{r as h,j as e}from"./index-DMm8wxqv.js";const b="http://localhost:3001/api",f=()=>{const[p,m]=h.useState([]),[g,c]=h.useState(!0);h.useEffect(()=>{fetch(`${b}/cafes`).then(t=>t.json()).then(t=>{m(t.data||[]),c(!1)}).catch(()=>c(!1))},[]);const j=p.reduce((t,i)=>{const s=i.category||"Other";return t[s]=t[s]||[],t[s].push(i),t},{});return g?e.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:"Loading cafes..."}):e.jsxs("div",{style:{maxWidth:1200,margin:"2rem auto",padding:"1rem"},children:[e.jsx("h2",{children:"Stockholm Cafes by Category"}),e.jsx("div",{style:{display:"flex",gap:"2rem",justifyContent:"flex-start",flexWrap:"wrap"},children:Object.entries(j).map(([t,i])=>e.jsxs("div",{style:{flex:"1 1 250px",minWidth:250},children:[e.jsx("h3",{children:t}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:[...i].sort((s,a)=>{var o,n,r,x;const l=((n=(o=s.locations)==null?void 0:o[0])==null?void 0:n.neighborhood)||"Unavailable",d=((x=(r=a.locations)==null?void 0:r[0])==null?void 0:x.neighborhood)||"Unavailable";return l.localeCompare(d)}).map(s=>{var a,l,d,o,n,r;return e.jsxs("li",{style:{marginBottom:"1rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:[e.jsx("strong",{children:s.name}),e.jsx("br",{}),e.jsx("span",{children:s.address}),e.jsx("br",{}),e.jsxs("span",{children:[e.jsx("b",{children:"Neighborhood:"})," ",((l=(a=s.locations)==null?void 0:a[0])==null?void 0:l.neighborhood)==="*"||!((o=(d=s.locations)==null?void 0:d[0])!=null&&o.neighborhood)?"Unavailable":(r=(n=s.locations)==null?void 0:n[0])==null?void 0:r.neighborhood]}),e.jsx("br",{}),e.jsx("span",{children:s.description})]},s._id)})})]},t))})]})};export{f as default};
