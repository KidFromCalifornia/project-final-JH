import{h as De,i as Ue,k as Xe,r as y,j as n,l as E,m as k,n as ne,o as _e,p as se,q as U,s as de,v as re,w as D,x as Ye,y as $,z as Je,E as Ke,G as ae,H as Fe,I as Me,J as ke,T as Re,K as Le,N as Qe,O as Ze,Q as eo,R as oo,U as Se,V as to,A as no,b as q,W as A,X as Z,Y as le,Z as ce,$ as fe,d as so,a0 as ro}from"./index-DEeGrAxN.js";import"./sweetalert2.esm.all-WmAyzXtb.js";const ao=De();function io(o){const{theme:e,name:t,props:a}=o;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?a:Ue(e.components[t].defaultProps,a)}function lo({props:o,name:e,defaultTheme:t,themeId:a}){let c=Xe(t);return a&&(c=c[a]||c),io({theme:c,name:e,props:o})}const co=_e(),uo=ao("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,e[`maxWidth${k(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),po=o=>lo({props:o,name:"MuiContainer",defaultTheme:co}),mo=(o,e)=>{const t=f=>se(e,f),{classes:a,fixed:c,disableGutters:v,maxWidth:r}=o,i={root:["root",r&&`maxWidth${k(String(r))}`,c&&"fixed",v&&"disableGutters"]};return ne(i,t,a)};function fo(o={}){const{createStyledComponent:e=uo,useThemeProps:t=po,componentName:a="MuiContainer"}=o,c=e(({theme:r,ownerState:i})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!i.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}}}),({theme:r,ownerState:i})=>i.fixed&&Object.keys(r.breakpoints.values).reduce((f,g)=>{const u=g,h=r.breakpoints.values[u];return h!==0&&(f[r.breakpoints.up(u)]={maxWidth:`${h}${r.breakpoints.unit}`}),f},{}),({theme:r,ownerState:i})=>({...i.maxWidth==="xs"&&{[r.breakpoints.up("xs")]:{maxWidth:Math.max(r.breakpoints.values.xs,444)}},...i.maxWidth&&i.maxWidth!=="xs"&&{[r.breakpoints.up(i.maxWidth)]:{maxWidth:`${r.breakpoints.values[i.maxWidth]}${r.breakpoints.unit}`}}}));return y.forwardRef(function(i,f){const g=t(i),{className:u,component:h="div",disableGutters:F=!1,fixed:j=!1,maxWidth:R="lg",classes:w,...s}=g,l={...g,component:h,disableGutters:F,fixed:j,maxWidth:R},p=mo(l,a);return n.jsx(c,{as:h,ownerState:l,className:E(p.root,u),ref:f,...s})})}const ho=U(n.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),go=U(n.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),bo=U(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function vo(o){return se("MuiCheckbox",o)}const he=de("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),xo=o=>{const{classes:e,indeterminate:t,color:a,size:c}=o,v={root:["root",t&&"indeterminate",`color${k(a)}`,`size${k(c)}`]},r=ne(v,vo,e);return{...e,...r}},Co=$(Je,{shouldForwardProp:o=>Ke(o)||o==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.indeterminate&&e.indeterminate,e[`size${k(t.size)}`],t.color!=="default"&&e[`color${k(t.color)}`]]}})(ae(({theme:o})=>({color:(o.vars||o).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.action.active,(o.vars||o).palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(Fe()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:o.alpha((o.vars||o).palette[e].main,(o.vars||o).palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(Fe()).map(([e])=>({props:{color:e},style:{[`&.${he.checked}, &.${he.indeterminate}`]:{color:(o.vars||o).palette[e].main},[`&.${he.disabled}`]:{color:(o.vars||o).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),yo=n.jsx(go,{}),Fo=n.jsx(ho,{}),Ro=n.jsx(bo,{}),je=y.forwardRef(function(e,t){const a=re({props:e,name:"MuiCheckbox"}),{checkedIcon:c=yo,color:v="primary",icon:r=Fo,indeterminate:i=!1,indeterminateIcon:f=Ro,inputProps:g,size:u="medium",disableRipple:h=!1,className:F,slots:j={},slotProps:R={},...w}=a,s=i?f:r,l=i?f:c,p={...a,disableRipple:h,color:v,indeterminate:i,size:u},C=xo(p),m=R.input??g,[S,z]=D("root",{ref:t,elementType:Co,className:E(C.root,F),shouldForwardComponentProp:!0,externalForwardedProps:{slots:j,slotProps:R,...w},ownerState:p,additionalProps:{type:"checkbox",icon:y.cloneElement(s,{fontSize:s.props.fontSize??u}),checkedIcon:y.cloneElement(l,{fontSize:l.props.fontSize??u}),disableRipple:h,slots:j,slotProps:{input:Ye(typeof m=="function"?m(p):m,{"data-indeterminate":i})}}});return n.jsx(S,{...z,classes:C})}),Jo=fo({createStyledComponent:$("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,e[`maxWidth${k(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),useThemeProps:o=>re({props:o,name:"MuiContainer"})});function So(o){return se("MuiFormControlLabel",o)}const te=de("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),jo=o=>{const{classes:e,disabled:t,labelPlacement:a,error:c,required:v}=o,r={root:["root",t&&"disabled",`labelPlacement${k(a)}`,c&&"error",v&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",c&&"error"]};return ne(r,So,e)},Po=$("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[{[`& .${te.label}`]:e.label},e.root,e[`labelPlacement${k(t.labelPlacement)}`]]}})(ae(({theme:o})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${te.disabled}`]:{cursor:"default"},[`& .${te.label}`]:{[`&.${te.disabled}`]:{color:(o.vars||o).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),wo=$("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ae(({theme:o})=>({[`&.${te.error}`]:{color:(o.vars||o).palette.error.main}}))),Pe=y.forwardRef(function(e,t){const a=re({props:e,name:"MuiFormControlLabel"}),{checked:c,className:v,componentsProps:r={},control:i,disabled:f,disableTypography:g,inputRef:u,label:h,labelPlacement:F="end",name:j,onChange:R,required:w,slots:s={},slotProps:l={},value:p,...C}=a,m=Me(),S=f??i.props.disabled??(m==null?void 0:m.disabled),z=w??i.props.required,X={disabled:S,required:z};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof i.props[H]>"u"&&typeof a[H]<"u"&&(X[H]=a[H])});const I=ke({props:a,muiFormControl:m,states:["error"]}),L={...a,disabled:S,labelPlacement:F,required:z,error:I.error},W=jo(L),G={slots:s,slotProps:{...r,...l}},[_,N]=D("typography",{elementType:Re,externalForwardedProps:G,ownerState:L});let P=h;return P!=null&&P.type!==Re&&!g&&(P=n.jsx(_,{component:"span",...N,className:E(W.label,N==null?void 0:N.className),children:P})),n.jsxs(Po,{className:E(W.root,v),ownerState:L,ref:t,...C,children:[y.cloneElement(i,X),z?n.jsxs("div",{children:[P,n.jsxs(wo,{ownerState:L,"aria-hidden":!0,className:W.asterisk,children:["â€‰","*"]})]}):P]})});function Mo(o){return se("MuiFormGroup",o)}de("MuiFormGroup",["root","row","error"]);const ko=o=>{const{classes:e,row:t,error:a}=o;return ne({root:["root",t&&"row",a&&"error"]},Mo,e)},Lo=$("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),No=y.forwardRef(function(e,t){const a=re({props:e,name:"MuiFormGroup"}),{className:c,row:v=!1,...r}=a,i=Me(),f=ke({props:a,muiFormControl:i,states:["error"]}),g={...a,row:v,error:f.error},u=ko(g);return n.jsx(Lo,{className:E(u.root,c),ownerState:g,ref:t,...r})}),$o={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},zo=U(n.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),Io=U(n.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function To(o){return se("MuiRating",o)}const oe=de("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function Ao(o){const e=o.toString().split(".")[1];return e?e.length:0}function ge(o,e){if(o==null)return o;const t=Math.round(o/e)*e;return Number(t.toFixed(Ao(e)))}const Eo=o=>{const{classes:e,size:t,readOnly:a,disabled:c,emptyValueFocused:v,focusVisible:r}=o,i={root:["root",`size${k(t)}`,c&&"disabled",r&&"focusVisible",a&&"readOnly"],label:["label","pristine"],labelEmptyValue:[v&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return ne(i,To,e)},Wo=$("span",{name:"MuiRating",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[{[`& .${oe.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${k(t.size)}`],t.readOnly&&e.readOnly]}})(ae(({theme:o})=>({display:"inline-flex",position:"relative",fontSize:o.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${oe.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${oe.focusVisible} .${oe.iconActive}`]:{outline:"1px solid #999"},[`& .${oe.visuallyHidden}`]:$o,variants:[{props:{size:"small"},style:{fontSize:o.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:o.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Ne=$("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:o},e)=>[e.label,o.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:o})=>o.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Ho=$("span",{name:"MuiRating",slot:"Icon",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(ae(({theme:o})=>({display:"flex",transition:o.transitions.create("transform",{duration:o.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(o.vars||o).palette.action.disabled}}]}))),Oo=$("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:o=>oo(o)&&o!=="iconActive",overridesResolver:(o,e)=>{const{iconActive:t}=o;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:o})=>o,style:{transform:"scale(1.2)"}}]});function Vo(o){const{value:e,...t}=o;return n.jsx("span",{...t})}function we(o){const{classes:e,disabled:t,emptyIcon:a,focus:c,getLabelText:v,highlightSelectedOnly:r,hover:i,icon:f,IconContainerComponent:g,isActive:u,itemValue:h,labelProps:F,name:j,onBlur:R,onChange:w,onClick:s,onFocus:l,readOnly:p,ownerState:C,ratingValue:m,ratingValueRounded:S,slots:z={},slotProps:X={}}=o,I=r?h===m:h<=m,L=h<=i,W=h<=c,G=h===S,_=`${j}-${Le()}`,N={slots:z,slotProps:X},[P,H]=D("icon",{elementType:Ho,className:E(e.icon,I?e.iconFilled:e.iconEmpty,L&&e.iconHover,W&&e.iconFocus,u&&e.iconActive),externalForwardedProps:N,ownerState:{...C,iconEmpty:!I,iconFilled:I,iconHover:L,iconFocus:W,iconActive:u},additionalProps:{value:h},internalForwardedProps:{as:g}}),[M,Y]=D("label",{elementType:Ne,externalForwardedProps:N,ownerState:{...C,emptyValueFocused:void 0},additionalProps:{style:F==null?void 0:F.style,htmlFor:_}}),O=n.jsx(P,{...H,children:a&&!I?a:f});return p?n.jsx("span",{...F,children:O}):n.jsxs(y.Fragment,{children:[n.jsxs(M,{...Y,children:[O,n.jsx("span",{className:e.visuallyHidden,children:v(h)})]}),n.jsx("input",{className:e.visuallyHidden,onFocus:l,onBlur:R,onChange:w,onClick:s,disabled:t,value:h,id:_,type:"radio",name:j,checked:G})]})}const Go=n.jsx(zo,{fontSize:"inherit"}),Bo=n.jsx(Io,{fontSize:"inherit"});function qo(o){return`${o||"0"} Star${o!==1?"s":""}`}const be=y.forwardRef(function(e,t){const a=re({name:"MuiRating",props:e}),{component:c="span",className:v,defaultValue:r=null,disabled:i=!1,emptyIcon:f=Bo,emptyLabelText:g="Empty",getLabelText:u=qo,highlightSelectedOnly:h=!1,icon:F=Go,IconContainerComponent:j=Vo,max:R=5,name:w,onChange:s,onChangeActive:l,onMouseLeave:p,onMouseMove:C,precision:m=1,readOnly:S=!1,size:z="medium",value:X,slots:I={},slotProps:L={},...W}=a,G=Le(w),[_,N]=Qe({controlled:X,default:r,name:"Rating"}),P=ge(_,m),H=Ze(),[{hover:M,focus:Y},O]=y.useState({hover:-1,focus:-1});let J=P;M!==-1&&(J=M),Y!==-1&&(J=Y);const[$e,ue]=y.useState(!1),ve=y.useRef(),ze=eo(ve,t),Ie=d=>{C&&C(d);const b=ve.current,{right:x,left:ie,width:K}=b.getBoundingClientRect();let Q;H?Q=(x-d.clientX)/K:Q=(d.clientX-ie)/K;let T=ge(R*Q+m/2,m);T=to(T,m,R),O(B=>B.hover===T&&B.focus===T?B:{hover:T,focus:T}),ue(!1),l&&M!==T&&l(d,T)},Te=d=>{p&&p(d);const b=-1;O({hover:b,focus:b}),l&&M!==b&&l(d,b)},xe=d=>{let b=d.target.value===""?null:parseFloat(d.target.value);M!==-1&&(b=M),N(b),s&&s(d,b)},Ae=d=>{d.clientX===0&&d.clientY===0||(O({hover:-1,focus:-1}),N(null),s&&parseFloat(d.target.value)===P&&s(d,null))},Ee=d=>{Se(d.target)&&ue(!0);const b=parseFloat(d.target.value);O(x=>({hover:x.hover,focus:b}))},We=d=>{if(M!==-1)return;Se(d.target)||ue(!1);const b=-1;O(x=>({hover:x.hover,focus:b}))},[He,Ce]=y.useState(!1),ee={...a,component:c,defaultValue:r,disabled:i,emptyIcon:f,emptyLabelText:g,emptyValueFocused:He,focusVisible:$e,getLabelText:u,icon:F,IconContainerComponent:j,max:R,precision:m,readOnly:S,size:z},V=Eo(ee),pe={slots:I,slotProps:L},[Oe,Ve]=D("root",{ref:ze,className:E(V.root,v),elementType:Wo,externalForwardedProps:{...pe,...W,component:c},getSlotProps:d=>({...d,onMouseMove:b=>{var x;Ie(b),(x=d.onMouseMove)==null||x.call(d,b)},onMouseLeave:b=>{var x;Te(b),(x=d.onMouseLeave)==null||x.call(d,b)}}),ownerState:ee,additionalProps:{role:S?"img":null,"aria-label":S?u(J):null}}),[Ge,Be]=D("label",{className:E(V.label,V.labelEmptyValue),elementType:Ne,externalForwardedProps:pe,ownerState:ee}),[qe,ye]=D("decimal",{className:V.decimal,elementType:Oo,externalForwardedProps:pe,ownerState:ee});return n.jsxs(Oe,{...Ve,children:[Array.from(new Array(R)).map((d,b)=>{const x=b+1,ie={classes:V,disabled:i,emptyIcon:f,focus:Y,getLabelText:u,highlightSelectedOnly:h,hover:M,icon:F,IconContainerComponent:j,name:G,onBlur:We,onChange:xe,onClick:Ae,onFocus:Ee,ratingValue:J,ratingValueRounded:P,readOnly:S,ownerState:ee,slots:I,slotProps:L},K=x===Math.ceil(J)&&(M!==-1||Y!==-1);if(m<1){const Q=Array.from(new Array(1/m));return y.createElement(qe,{...ye,key:x,className:E(ye.className,K&&V.iconActive),iconActive:K},Q.map((T,B)=>{const me=ge(x-1+(B+1)*m,m);return n.jsx(we,{...ie,isActive:!1,itemValue:me,labelProps:{style:Q.length-1===B?{}:{width:me===J?`${(B+1)*m*100}%`:"0%",overflow:"hidden",position:"absolute"}}},me)}))}return n.jsx(we,{...ie,isActive:K,itemValue:x},x)}),!S&&!i&&n.jsxs(Ge,{...Be,children:[n.jsx("input",{className:V.visuallyHidden,value:"",id:`${G}-empty`,type:"radio",name:G,checked:P==null,onFocus:()=>Ce(!0),onBlur:()=>Ce(!1),onChange:xe}),n.jsx("span",{className:V.visuallyHidden,children:g})]})]})}),Do=U(n.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),Uo=U(n.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),Xo=({message:o,type:e="info"})=>n.jsx(no,{severity:e,sx:{my:2},children:o});$(be)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}});const Ko=({onSubmit:o,initialValues:e={}})=>{var R,w;const[t,a]=y.useState({cafeId:e.cafeId||"",cafeName:e.cafeName||"",cafeNeighborhood:e.cafeNeighborhood||"",coffeeRoaster:e.coffeeRoaster||"",coffeeOrigin:e.coffeeOrigin||"",coffeeOriginRegion:e.coffeeOriginRegion||"",brewMethod:e.brewMethod||"",tastingNotes:e.tastingNotes||[],acidity:e.acidity||"",mouthFeel:e.mouthFeel||"",roastLevel:e.roastLevel||"",rating:e.rating||3,notes:e.notes||"",isPublic:e.isPublic!==void 0?e.isPublic:!0,coffeeName:e.coffeeName||""}),c=q(s=>s.cafes),v=q(s=>s.setCafes),r=q(s=>s.options),i=q(s=>s.setOptions),f=q(s=>s.fetchError),g=q(s=>s.setFetchError);q(s=>s.user),y.useEffect(()=>{const s=async()=>{try{const l=await ro("/metadata/form-options");v(l.cafes||[]),i(l.enums||{})}catch(l){console.error("Error fetching metadata:",l),g("Failed to load metadata")}};(!c||c.length===0)&&s()},[v,i,g,c]);const u=s=>{const{name:l,value:p,type:C,checked:m}=s.target;a(S=>({...S,[l]:C==="checkbox"?m:p})),f&&g("")},h=s=>{const{value:l,checked:p}=s.target;a(C=>({...C,tastingNotes:p?[...C.tastingNotes,l]:C.tastingNotes.filter(m=>m!==l)})),f&&g("")},F=s=>{const l=c.find(p=>p._id===s.target.value);a(p=>({...p,cafeId:s.target.value,cafeNeighborhood:l?l.neighborhood:""}))},j=s=>{if(s.preventDefault(),t.tastingNotes.length===0){g("Please select at least one tasting note.");return}o(t)};return n.jsxs("form",{onSubmit:j,children:[f&&n.jsx(Xo,{message:f,type:"error"}),n.jsx(A,{label:"Coffee Name",name:"coffeeName",value:t.coffeeName,onChange:u,required:!0,fullWidth:!0,margin:"normal"}),n.jsxs(A,{select:!0,label:"Where did you taste this coffee?",name:"cafeId",value:t.cafeId,onChange:F,required:!0,fullWidth:!0,margin:"normal",children:[n.jsx(Z,{value:"",children:"Select a cafe"}),c.map(s=>n.jsx(Z,{value:s._id,children:s.name},s._id))]}),n.jsx(A,{label:"Coffee Roaster",name:"coffeeRoaster",value:t.coffeeRoaster,onChange:u,fullWidth:!0,margin:"normal"}),n.jsx(A,{label:"Coffee Origin",name:"coffeeOrigin",value:t.coffeeOrigin,onChange:u,fullWidth:!0,margin:"normal"}),n.jsx(A,{label:"Coffee Region",name:"coffeeOriginRegion",value:t.coffeeOriginRegion,onChange:u,fullWidth:!0,margin:"normal"}),n.jsxs(A,{select:!0,label:"Brew Method",name:"brewMethod",value:t.brewMethod,onChange:u,required:!0,fullWidth:!0,margin:"normal",children:[n.jsx(Z,{value:"",children:"Select"}),(r.brewMethod||[]).map(s=>n.jsx(Z,{value:s,children:s},s))]}),n.jsxs(le,{fullWidth:!0,margin:"normal",children:[n.jsx(ce,{children:"Roast Level"}),n.jsx(A,{type:"range",name:"roastLevel",min:0,max:(R=r.roastLevel)!=null&&R.length?r.roastLevel.length-1:2,value:Math.max(((w=r.roastLevel)==null?void 0:w.indexOf(t.roastLevel))??0,0),onChange:s=>a(l=>{var p;return{...l,roastLevel:((p=r.roastLevel)==null?void 0:p[s.target.value])||""}}),required:!0}),n.jsx(fe,{children:t.roastLevel||"Select"})]}),n.jsxs(le,{component:"fieldset",margin:"normal",children:[n.jsx(ce,{component:"legend",children:"Tasting Notes (choose multiple):"}),n.jsx(No,{row:!0,children:(r.tastingNotes||[]).map(s=>n.jsx(Pe,{control:n.jsx(je,{name:"tastingNotes",value:s,checked:t.tastingNotes.includes(s),onChange:h}),label:s},s))})]}),n.jsxs(A,{select:!0,label:"Mouth Feel",name:"mouthFeel",value:t.mouthFeel,onChange:u,required:!0,fullWidth:!0,margin:"normal",children:[n.jsx(Z,{value:"",children:"Select"}),(r.mouthFeel||[]).map(s=>n.jsx(Z,{value:s,children:s},s))]}),n.jsxs(le,{fullWidth:!0,margin:"normal",children:[n.jsx(ce,{component:"legend",children:"Custom icon and color"}),n.jsx(be,{name:"rating",value:t.rating,precision:.5,icon:n.jsx(Do,{fontSize:"inherit"}),emptyIcon:n.jsx(Uo,{fontSize:"inherit"}),onChange:(s,l)=>a(p=>({...p,rating:l}))}),n.jsx(fe,{children:t.rating?`${t.rating} Hearts`:"Select rating"})]}),n.jsxs(le,{fullWidth:!0,margin:"normal",children:[n.jsx(ce,{component:"legend",children:"10 stars"}),n.jsx(be,{name:"customized-10",value:t.rating,max:10,onChange:(s,l)=>a(p=>({...p,rating:l}))}),n.jsx(fe,{children:t.rating?`${t.rating} Stars`:"Select rating"})]}),n.jsx(A,{label:"Notes",name:"notes",value:t.notes,onChange:u,multiline:!0,rows:3,fullWidth:!0,margin:"normal",inputProps:{maxLength:500},placeholder:"Additional notes about the tasting"}),n.jsx(Pe,{control:n.jsx(je,{id:"isPublic",name:"isPublic",checked:t.isPublic,onChange:u}),label:"Public"}),n.jsx(so,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},disabled:!t.cafeId||!t.coffeeName||!t.brewMethod||!t.roastLevel,children:"Submit"})]})};export{Jo as C,Ko as T};
